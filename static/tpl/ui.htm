<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8"/>
	<title>PhysioDom professionnal platform</title>

	<meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1.0, maximum-scale=1.0"/>
	<meta name="apple-mobile-web-app-capable" content="yes"/>
	<meta name="apple-touch-fullscreen" content="yes">
	<meta name="mobile-web-app-capable" content="yes">

	<link rel="shortcut icon" sizes="196x196" href="/img/physiodom_favico.png">
	<link rel="icon" href="/img/physiodom_favico.png">
	<link rel="apple-touch-icon" href="/img/physiodom_favico.png">

	<link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="assets/css/bootstrap-theme.min.css">

	<script type="text/javascript" src="assets/js/jquery-2.1.0.min.js"></script>
	<script type="text/javascript" src="assets/js/bootstrap.min.js"></script>

	<link rel="stylesheet" href="styles/ui.css">
	<link rel="alternate stylesheet" href="styles/mock.css" title="dev">
	<link rel="stylesheet" href="styles/theme.css" title="theme">

	<script src="scripts/ui.js" type="text/javascript"></script>
	<script>
		if(window.location !== window.parent.location ) {
			console.info("load in iframe");
			window.parent.location = "/";
		}
	</script>
</head>
<body role="document" class="theme-showcase" style="overflow: hidden;">

<style>
	li > div {
		color: white;
		margin: 0px 5px 0px -5px;
		padding-left: 5px;
		background-image: -webkit-linear-gradient(top,#868686 0,#313131 100%);
		background-image: linear-gradient(to bottom,#868686 0,#313131 100%);
		background-repeat: repeat-x;
		filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#ff868686', endColorstr='#ff313131', GradientType=0);
		text-shadow: 1px 1px 0px black;
	}

	li > div:before {
		font-family: 'Glyphicons Halflings'; /* essential for enabling glyphicon */
		content: "\e114"; /* adjust as needed, taken from bootstrap.css */
		float: right; /* adjust as needed */

	}

	li.collapsed > ul {
		display:none;
	}

	li.collapsed > div:before {
		/* symbol for "collapsed" panels */
		content: "\e080"; /* adjust as needed, taken from bootstrap.css */
	}

	li.selected {	background:white; }
	li.selected > a { color:black };
</style>

<header class="hdr ttable">
	<div class="trow" style="background:none;">
		<div class="navbtn cell" style="width:50px">
			<button class=" btn-info">=</button>
		</div>
		<div class="cell" style="width: 50px;"><img src="/img/physiodom_favico.png" style="height:30px"></div>
		<div class="cell title" style="text-align: center;font-size: 20px;">Select beneficiary</div>
		<div class="cell" style="text-align: left; width:150px; text-overflow: ellipsis;font-size: 80%;">beneficiary<br><label id="beneficiary"><a href="tpl/recipientDetail.htm" target="main">-</a></label></div>
		<div class="cell" style="width:100px;text-align:right;font-size: 80%;">{{account.firstname}}. {{account.lastname}}<br/><a href="/logout">Disconnect</a></div>
	</div>
</header>

<section>
	<nav>
		<header class="visible-xs visible-sm" style="padding:5px;height: 50px;">
			<button class="navbtn btn-info">=</button>
		</header>

		<ul class="tree">
			<li class="menuitem"><a href="/beneficiary/select" target="main">Select beneficiary</a></li>
			<li class="menuitem"><a href="tpl/recipientDetail.htm" target="main">Beneficiary overview</a></li>
			<li class="collapsed">
				<div>Quick look on HHR</div>
				<ul class="tree">
					<li class="menuitem"><a href="tpl/messages.htm" target="main">Messages to home</a></li>
					<li class="menuitem"><a href="tpl/interProfessional.htm" target="main">Inter professional messages</a></li>
					<li class="menuitem"><a href="tpl/agenda.htm" target="main">Agenda</a></li>
					<li class="menuitem"><a href="tpl/data.htm" target="main">Physiological data</a></li>
				</ul>
			</li>
			<li class="collapsed">
				<div>Healthcare</div>
				<ul class="tree">
					<li class="menuitem">Summary</li>
					<li class="menuitem">Care plan</li>
					<li class="menuitem">Attachments</li>
					<li class="menuitem">Professionals report</li>
				</ul>
			</li>
			<li class="collapsed">
				<div>Social</div>
				<ul class="tree">
					<li class="menuitem"><a href="tpl/socialPlan.htm" target="main">Social care plan</a></li>
					<li class="menuitem">Attachments</li>
				</ul>
			</li>

			<li class="collapsed">
				<div>Physiological Data</div>
				<ul class="tree">
					<li class="menuitem"><a href="tpl/dataRecord.htm" target="main">Constants registration</a></li>
					<li class="menuitem">Attachments</li>
					<li class="menuitem">Warning threshold</li>
				</ul>
			</li>
			<li class="menuitem"><a href="tpl/directory.htm" target="main">Directory</a></li>
		</ul>

	</nav>
	<article>
		<iframe id="main" name="main" src="/beneficiary/select" scrolling="no"></iframe>
	</article>
</section>

<script>

	// if(window.navigator.standalone) {
	var menuEntries = document.querySelectorAll("nav ul.tree li");
	[].slice.call(menuEntries).forEach( function(entry) {
		switch( entry.className ) {
			case "menuitem" :
				entry.addEventListener("click", function(event) {
					event.preventDefault();

					var aurl = event.currentTarget.querySelector("a").getAttribute("href");
					if (aurl) {
						var selected = document.querySelector("nav ul.tree li.selected");
						if(selected) selected.classList.remove("selected");
						event.currentTarget.classList.add("selected");
						show(aurl);
					}
				},false);
				break;
			default:
				entry.addEventListener("click", function(e) {
					var parent = e.target.parentNode;
					parent.classList.toggle("collapsed");
				}, false);
				break;
		}
	});
</script>
</body>
</html>
