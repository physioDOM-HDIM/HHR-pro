{% extends './page.htm' %}
{% block title %}{{title}}{% endblock %}
{% block head %}
{% parent %}
<script src="/bower_components/mustache/mustache.js"></script>
<script src="/bower_components/rsvp/rsvp.min.js"></script>
<script src="/bower_components/momentjs/min/moment-with-locales.min.js"></script>
<script src="/bower_components/zdk-calendar/form2js.js"></script>
<script src="/tpl/prescriptionData.js"></script>

<link rel="import" href="/bower_components/zdk-calendar/zdk-input-date.html">
<link rel="stylesheet" href="/styles/prescriptionData.css">
{% endblock %}

{% block content %}

{% macro prescriptionList(data) %}
<div class="data-item">
	<div class="hidden data-ref">{{ data.ref }}</div>

	<div class="row">
		<div class="col col05 bold data-text"></div>
		<div class="col">
			<label>Min Threshold</label><span class="data-min">0</span>
		</div>
		<div class="col">
			<label>Max Threshold</label><span class="data-max">60</span>
		</div>
	</div>
	<div class="row">
		<div class="col col05"></div>
		<div class="col">
			<label>Start date</label><span>{{ data.startDate }}</span>
		</div>
		<div class="col"></div>
	</div>
	<div class="row">
		<div class="col col05"></div>
		<div class="col">
			<label>{{ data.frequency }}</label>
			<ul class="data-list">
				<li>Monday</li>
				<li>Wednesday</li>
			</ul>
		</div>
		<div class="col"></div>
	</div>

	<div class="row control">
		<span class="spacer"></span>
		<button type="button" onclick="openModalEdition()" class="small blue">Edit</button>
	</div>

	<hr>
</div>
{% endmacro %}


<div class="row title">
    <label class="title">
        {{title}}
    </label>
</div>

{% for data in dataprog %}
	{{ prescriptionList(data) }}
{% endfor %}

<div class="row control">
	<span class="spacer"></span>
	<button type="button" class="blue">Add</button>
</div>

<zdk-modal id="editModal" closebutton="false">
    <div class="modalContainer">
    	<h1>{{title}}</h1>

    	<div class="row">
    		<label>type of data</label>
    		<select>
    			<option>1</option>
    			<option>2</option>
    			<option>3</option>
    		</select>
    	</div>

    	<div class="row">
    		<label>Min Threshold</label>12
    		<label>Max Threshold</label>15
    	</div>

    	<div class="row">
    		<label>Start date</label>
    		<zdk-input-date name="" value="" style="z-index:100"></zdk-input-date>
    	</div>

    	<button type="button" onclick="closeModal()" class="red">Cancel</button>
    </div>
</zdk-modal>

{% endblock %}